#============================================================================
# Created    : 2010-03-09
# Maintainer : Chris Jones
#============================================================================
package           ChargedProtoANNPIDTeacher
version           v1r0

#============================================================================
# Structure, i.e. directories to process. 
#============================================================================
branches          cmt doc src

#============================================================================
# Used packages.
#============================================================================
use  GaudiPolicy        v*
use  ROOT               v*  LCG_Interfaces -no_auto_imports
use  Boost              v*  LCG_Interfaces -no_auto_imports
use  neurobayes_expert  v*  LCG_Interfaces -no_auto_imports

macro_append Boost_linkopts " $(Boost_linkopts_filesystem) "
macro_append Boost_linkopts " $(Boost_linkopts_regex) "

apply_pattern install_more_includes more=ChargedProtoANNPIDTeacher

#============================================================================
# NeuroBayes Training Application
#============================================================================
application  ProtoPIDTeacher  -import=ROOT -import=Boost ../src/teacher/*.cpp \ 
                                                         ../src/shared/*.cpp
macro_append ProtoPIDTeacher_use_linkopts " -lGpad -lTreePlayer -lMLP -lTMVA "

#============================================================================
# Basic Test Application
#============================================================================
application  BasicNBTest -import=neurobayes_expert ../src/test/*.cpp 

#============================================================================
# MakePlots
#============================================================================
application  MakePlots -import=ROOT -import=Boost ../src/MakePlots/*.cpp \
                                                  ../src/shared/*.cpp
macro_append MakePlots_use_linkopts " -lGpad "

# For Neurobayes support
use  neurobayes         v*  LCG_Interfaces
set PHIT_LICENCE_PATH /afs/cern.ch/sw/lcg/external/neurobayes/license
macro_append cppflags " -DENABLENB "
macro_append ProtoPIDTeacher_use_linkopts " -lNeuroBayesTeacherCPP "

#============================================================================
# NeuroBayes Utilities
#============================================================================
application ProtoPIDAsciiToRoot -import=ROOT $(neurobayes_home)/external/asciiToRoot.cc
application ProtoPIDAnalysis    -import=ROOT $(neurobayes_home)/external/analysis.cc
macro_append ROOT_linkopts " -lGpad -lPostscript -lHist "

apply_pattern application_path
